import{_ as qt}from"./index-CB3RALtC.js";const ht=(e,t=ht,n=t.f||(t.f=["assets/bootstrapPreact-w53xUFNM.js","assets/bootstrapPreact-DuTJir4w.css"]))=>e.map(i=>n[i]);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();const Sn="modulepreload",In=function(e){return"/"+e},Ct={},Gt=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(u=>{if(u=In(u),u in Ct)return;Ct[u]=!0;const d=u.endsWith(".css"),a=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${a}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":Sn,d||(_.as="script"),_.crossOrigin="",_.href=u,s&&_.setAttribute("nonce",s),document.head.appendChild(_),d)return new Promise((r,f)=>{_.addEventListener("load",r),_.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&l(s.reason);return e().catch(l)})},Pn=new Tone.MonoSynth({oscillator:{type:"sawtooth"},envelope:{attack:.02,decay:.1,sustain:.2,release:.4}}).toDestination(),Ln=new Tone.MonoSynth({oscillator:{type:"square"},filter:{type:"lowpass",frequency:200},envelope:{attack:.01,decay:.2,sustain:.3,release:.8}}).toDestination(),Tn=new Tone.MembraneSynth().toDestination();Tone.Transport.bpm.value=160;const Dn=["C4","E4","G4","B4","C5","B4","G4","E4","D4","F4","A4","C5","D5","A4","F4","D4"],An=["C2","C2","G1","C2","B1","G1","C2","G1"],Ke=new Tone.Sequence((e,t)=>{Pn.triggerAttackRelease(t,"16n",e)},Dn,"16n"),Vt=new Tone.Sequence((e,t)=>{Ln.triggerAttackRelease(t,"8n",e),Tn.triggerAttackRelease("C2","8n",e)},An,"8n");Ke.loop=!0;Vt.loop=!0;Tone.Transport.loop=!0;Tone.Transport.loopEnd="90s";function ft(){Tone.start(),Ke.state!=="started"&&(Ke.start(0),Vt.start(0)),Tone.Transport.start()}function zt(){Tone.Transport.stop()}function P(e,t){try{const n=localStorage.getItem(e);return n!==null?JSON.parse(n):t}catch{return t}}function k(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}function Kt(){const e=new URLSearchParams(location.search).get("ui");return e==="new"?!0:e==="old"?!1:P("newUi",!1)}function Ye(e){k("newUi",!!e)}const y=document.getElementById("game"),h=y.getContext("2d"),Yt={wallBounceEnabledDefault:!0,wallSlideMaxDownSpeed:120},m={settings:{wallBounceEnabled:P("wallBounceEnabled",Yt.wallBounceEnabledDefault),speedMultiplier:1,musicEnabled:P("musicEnabled",!0),continuousPlay:!0}},ne=document.getElementById("mainMenu"),Jt=document.getElementById("arcadeBtn"),Nn=document.getElementById("boosterBtn"),Hn=document.getElementById("settingsBtn"),pt=document.getElementById("settingsMenu"),Un=document.getElementById("backBtn"),Fn=document.getElementById("difficulty"),Zt=document.getElementById("gameContainer"),Be=document.getElementById("currentScore"),R=document.getElementById("comboDisplay"),Rn=document.getElementById("scoreTable"),yt=document.getElementById("gameOver"),Je=document.getElementById("saveScoreBtn"),Qt=document.getElementById("newGameBtn"),He=document.getElementById("boosterFrames"),be=document.getElementById("wheelOverlay"),Ue=document.getElementById("spinBtn"),te=document.getElementById("spinWheel"),Y=te.getContext("2d"),On=document.getElementById("shopBtn"),Xt=document.getElementById("shopMenu"),Wn=document.getElementById("shopBackBtn"),me=document.getElementById("buySlotItem"),xt=document.getElementById("ringDisplay"),Bt=document.getElementById("shopRingDisplay"),Ce=document.getElementById("shopMessage"),$t=document.getElementById("refundBtn"),Mt=document.getElementById("resetGameBtn"),ce=document.querySelectorAll(".character-item");let W=P("purchasedCharacters",["character.png"]),j=P("selectedCharacter","character.png");ce.forEach(e=>{W.includes(e.dataset.character)&&e.classList.add("owned")});let M=P("ringCount",0),Te=!1,se=!1,K=Array.from(document.querySelectorAll(".booster-frame")),V=Array(K.length).fill(""),F=P("extraSkillSlots",0);function en(){const e=document.createElement("div");e.classList.add("booster-frame"),He.appendChild(e),K.push(e),V.push("")}function tn(){for(;K.length>3;){const e=K.pop();He.removeChild(e),V.pop()}}for(let e=0;e<F;e++)en();Re();let he=0,nn=0,$e=0,on=0,Ze=0;const ln=["red","yellow","green","blue","red","yellow","green","blue"];let Qe=0;const Xe=document.getElementById("toggleWallBounce"),jn=document.getElementById("speedMinus"),qn=document.getElementById("speedPlus"),Gn=document.getElementById("speedValue"),et=document.getElementById("toggleMusic"),Me=document.getElementById("useNewUi");Xe.checked=m.settings.wallBounceEnabled;et.checked=m.settings.musicEnabled;Me.checked=Kt();function Fe(){Gn.textContent=m.settings.speedMultiplier.toFixed(1)+"x"}Fe();Xe.addEventListener("change",()=>{m.settings.wallBounceEnabled=Xe.checked,k("wallBounceEnabled",m.settings.wallBounceEnabled)});jn.addEventListener("click",()=>{m.settings.speedMultiplier=Math.max(.5,m.settings.speedMultiplier-.5),Fe()});qn.addEventListener("click",()=>{m.settings.speedMultiplier=Math.min(3,m.settings.speedMultiplier+.5),Fe()});et.addEventListener("change",()=>{m.settings.musicEnabled=et.checked,k("musicEnabled",m.settings.musicEnabled),m.settings.musicEnabled?ft():zt()});Me.addEventListener("change",async()=>{const e=Me.checked;Ye(e);const t=document.getElementById("ui-root"),n=document.getElementById("mainMenu"),i=document.getElementById("settingsMenu");if(e){t&&(t.style.display="block"),n&&(n.style.display="none"),i&&(i.style.display="none");try{(await Gt(()=>qt(()=>Promise.resolve().then(()=>Mn),void 0),ht([0,1]))).mount()}catch(l){console.error(l),n&&(n.style.display="block"),t&&(t.style.display="none",t.innerHTML=""),i&&(i.style.display="none"),Me.checked=!1,Ye(!1)}}else t&&(t.style.display="none",t.innerHTML=""),i&&(i.style.display="none"),n&&(n.style.display="block")});function Vn(e){m.settings.wallBounceEnabled=e,k("wallBounceEnabled",m.settings.wallBounceEnabled)}function zn(){return m.settings.wallBounceEnabled}function St(e){m.settings.speedMultiplier=Math.max(.5,Math.min(3,e)),Fe()}function Kn(){return m.settings.speedMultiplier}function Yn(e){m.settings.musicEnabled=e,k("musicEnabled",m.settings.musicEnabled),m.settings.musicEnabled?ft():zt()}function Jn(){return m.settings.musicEnabled}function A(){xt&&(xt.textContent=`Obręcze: ${M}`),Bt&&(Bt.textContent=`Obręcze: ${M}`)}function tt(e){Ce&&(Ce.textContent=e,Ce.style.display="block",setTimeout(()=>{Ce.style.display="none"},5e3))}function Re(){me&&(F>0?me.classList.add("purchased"):me.classList.remove("purchased"))}function Zn(){M+=F*50,M+=(W.length-1)*50,F=0,W=["character.png"],j="character.png",k("ringCount",M),k("extraSkillSlots",F),k("purchasedCharacters",W),k("selectedCharacter",j),tn(),ce.forEach(e=>{e.classList.remove("owned"),e.dataset.character==="character.png"&&e.classList.add("owned")}),A(),Re(),ve()}function Qn(){M=0,F=0,W=["character.png"],j="character.png",k("ringCount",M),k("extraSkillSlots",F),k("purchasedCharacters",W),k("selectedCharacter",j),tn(),ce.forEach(e=>{e.classList.remove("owned"),e.dataset.character==="character.png"&&e.classList.add("owned")}),A(),Re(),ve()}A();function Xn(){const e=te.width/2;for(let t=0;t<8;t++){Y.beginPath(),Y.moveTo(e,e);const n=-Math.PI/2+t*Math.PI/4,i=n+Math.PI/4;Y.arc(e,e,e,n,i),Y.fillStyle=ln[t],Y.fill(),Y.strokeStyle="#000",Y.stroke()}}Xn();function eo(){be.style.display="flex",Ue.textContent="Spin!",te.style.transition="none",te.style.transform="rotate(0deg)",Te=!1,se=!1}Ue.addEventListener("click",()=>{if(!Te&&!se){se=!0;const e=5+Math.floor(Math.random()*6);Qe=Math.floor(Math.random()*8);const t=e*360-Qe*45-22.5;requestAnimationFrame(()=>{te.style.transition="transform 4s ease-in-out",te.style.transform=`rotate(${t}deg)`})}else Te&&!se&&(be.style.display="none",ae=!1)});te.addEventListener("transitionend",()=>{if(se){se=!1,Te=!0,Ue.textContent="Continue";const e=ln[Qe];to(e)}});function to(e){K[he].style.backgroundColor=e,V[he]=e,he=(he+1)%K.length,sn()}function rn(){V=Array(K.length).fill(""),he=0;for(let e of K)e.style.backgroundColor="",e.style.borderColor="#000";sn()}function sn(){if(nn=V.filter(e=>e==="red").length,$e=V.filter(e=>e==="yellow").length,on=V.filter(e=>e==="green").length,Ze=V.filter(e=>e==="blue").length,ee=lt*(1+.25*Ze),$){for(let e of $)if(e.id!==0&&e!==hn){const t=e.x+e.width/2;e.width=ee,e.x=Math.min(Math.max(t-e.width/2,I),I+D-e.width)}}}Hn.addEventListener("click",()=>{ne.style.display="none",pt.style.display="block"});Un.addEventListener("click",()=>{pt.style.display="none",ne.style.display="block",A()});On.addEventListener("click",()=>{ne.style.display="none",Xt.style.display="block",A()});Wn.addEventListener("click",()=>{Xt.style.display="none",ne.style.display="block",A()});$t&&$t.addEventListener("click",()=>{Zn()});Mt&&Mt.addEventListener("click",()=>{Qn()});me&&me.addEventListener("click",()=>{if(F>0){tt("Przedmiot już zakupiony");return}M>=50?(M-=50,k("ringCount",M),A(),en(),F=1,k("extraSkillSlots",F),Re()):(tt("Brak środków!"),A())});ce.length&&ce.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.character;if(W.includes(t)){j=t,k("selectedCharacter",t),ve();return}M>=50?(M-=50,W.push(t),k("ringCount",M),k("purchasedCharacters",W),j=t,k("selectedCharacter",t),e.classList.add("owned"),A(),ve()):tt("Brak środków!")})});let U=new Image,fe=null,ge=[],Ge=0,nt=0,le=null;const Ve=150;function no(){ge=["YmFja2dyb3VuZDEuanBn","YmFja2dyb3VuZDIuanBn","YmFja2dyb3VuZDMuanBn"].map(e=>`assets/${atob(e)}`),U.src=ge[0]}no();function oo(e){ge.length>1&&(fe=U,Ge=(Ge+1)%ge.length,U=new Image,U.src=ge[Ge],le=e)}const ot=new Image;ot.src="assets/step.jpg";const De=new Image;De.src=`assets/${j}`;function ve(){De.src=`assets/${j}`,ce.forEach(e=>{e.dataset.character===j?e.classList.add("selected"):e.classList.remove("selected")})}ve();const lo={easy:{platformWidth:90,speed:1.5},medium:{platformWidth:70,speed:2.5},hard:{platformWidth:50,speed:3.5}},J=20,io=2,Ae=15;function mt(){const e=P("scores",[]);Rn.textContent=e.map((t,n)=>`${n+1}. ${t.name}: ${t.score}`).join(`
`)}mt();function cn(){rn(),ne.style.display="none",Zt.style.display="block",be.style.display="none",He.style.display=m.settings.continuousPlay?"none":"flex",y.width=600,y.height=window.innerHeight;const e=lo[Fn.value];so(e),m.settings.musicEnabled&&ft(),requestAnimationFrame(fn)}function an(){m.settings.continuousPlay=!0,cn()}function un(){m.settings.continuousPlay=!1,cn()}Jt.addEventListener("click",an);Nn.addEventListener("click",un);document.addEventListener("keydown",e=>{be.style.display!=="none"&&e.code==="Space"?Ue.click():yt.style.display!=="none"&&e.code==="Space"?Qt.click():ne.style.display!=="none"&&e.code==="Space"?Jt.click():ae&&e.code==="Space"&&(ae=!1)});const ro=.5;let lt=90,ee=90,dn=2,c,$,Q,gt,pe,X,it=!1,D,I,rt,_n,S,ie,T,H,re,Se,ye=0;const It=30;let ae=!1,hn=null;function so(e){lt=e.platformWidth,ee=lt*(1+.25*Ze),dn=e.speed,D=Math.min(600,y.width),I=(y.width-D)/2,c={x:I+D/2-20,y:y.height-J-90,width:40,height:90,vx:0,vy:0,onGround:!0,lastPlatformId:0,isCombo:!1,wallBounceCount:0,wallContactDir:0,rotation:0,flipDir:0,flipping:!1},c.tryWallBounce=function(){return this.wallContactDir===0||this.wallBounceCount>0?!1:(this.wallBounceCount=1,this.vx=-this.wallContactDir*4*m.settings.speedMultiplier,this.vy=-20*Math.pow(2,on)*m.settings.speedMultiplier,this.flipping=!0,this.rotation=0,this.flipDir=-this.wallContactDir,!0)},$=[];const t=Math.ceil(y.height/100);rt=(y.height-J)/(t-1),$.push({x:I,y:y.height-J,width:D,height:J,id:0}),H=[];for(let n=1;n<t;n++){const i={x:I+Math.random()*(D-ee),y:y.height-J-n*rt,width:ee,height:J,id:n};$.push(i),n%20===0&&H.push({x:i.x+i.width/2,y:i.y-Ae,radius:Ae})}_n=t,S=1,ie=0,re=!1,T=[],Q={},gt=!1,pe=!1,X=0,Se=0,Be.style.color="#fff",it=!1,ye=0,ae=!1}document.addEventListener("keydown",e=>{Q[e.code]=!0});document.addEventListener("keyup",e=>{Q[e.code]=!1});function co(e){const t=Q.ArrowLeft||Q.KeyA,n=Q.ArrowRight||Q.KeyD;if(c.isCombo=S>1,t?c.vx=-4*m.settings.speedMultiplier:n?c.vx=4*m.settings.speedMultiplier:c.vx=0,c.onGround&&ye<=0){let l=1;re&&S>=4&&(l=S/2,re=!1),l*=1+.25*nn,c.vy=-20*l*m.settings.speedMultiplier,c.onGround=!1,pe||(pe=!0),ye=It}else ye--;if(c.vy+=ro*m.settings.speedMultiplier,c.wallContactDir!==0&&(c.wallContactDir===-1&&t||c.wallContactDir===1&&n)){const l=Yt.wallSlideMaxDownSpeed/60*m.settings.speedMultiplier;c.vy=Math.min(c.vy,l)}c.x+=c.vx,c.y+=c.vy,c.flipping&&(c.rotation+=c.flipDir*.3,Math.abs(c.rotation)>=Math.PI*2&&(c.flipping=!1,c.rotation=0));const i=c.wallContactDir;c.wallContactDir=0,c.x<I&&(c.x=I,c.wallContactDir=-1),c.x+c.width>I+D&&(c.x=I+D-c.width,c.wallContactDir=1),m.settings.wallBounceEnabled&&c.wallContactDir!==0&&i===0&&c.tryWallBounce()&&(ye=It,c.wallContactDir=0),c.onGround=!1;for(let l of $)if(c.x<l.x+l.width&&c.x+c.width>l.x&&c.y+c.height>l.y&&c.y+c.height<l.y+l.height+c.vy&&c.vy>=0){c.y=l.y-c.height,c.vy=0,c.onGround=!0,c.wallBounceCount=0;const o=l.id-c.lastPlatformId;if(o-1>=4?(Se=60,S===1?(S=2,ie=0,re=!1):ie++,X+=Math.round(o*S*(1+.25*$e)),ie>=S&&(S+=2,ie=0,S>=4&&(re=!0))):(X+=Math.round(o*(1+.25*$e)),S=1,ie=0,re=!1),c.lastPlatformId=l.id,!m.settings.continuousPlay&&l.id!==0){const s=l.id<=200?100:200;l.id%s===0&&(ae=!0,eo())}}if(pe){let l=dn*m.settings.speedMultiplier;if(c.y<y.height/2){const o=y.height/2-c.y;c.y=y.height/2;for(let s of $)s.y+=o;for(let s of T)s.y+=o;for(let s of H)s.y+=o;nt+=o}c.onGround&&(c.y+=l);for(let o of $)o.y+=l;for(let o of T)o.y+=l;for(let o of H)o.y+=l;nt+=l}if(S>1){const l=c.x+c.width/2,o=c.y+c.height,s=T[T.length-1];(!s||Math.hypot(l-s.x,o-s.y)>20)&&T.push({x:l,y:o,life:60})}for(let l=T.length-1;l>=0;l--)T[l].life--,T[l].life<=0&&T.splice(l,1);for(let l=H.length-1;l>=0;l--){const o=H[l];if(c.x<o.x+o.radius&&c.x+c.width>o.x-o.radius&&c.y<o.y+o.radius&&c.y+c.height>o.y-o.radius){H.splice(l,1),M++,k("ringCount",M),A(),X+=Math.round(1e3*(1+.25*$e)),Be.style.color="gold",setTimeout(()=>Be.style.color="#fff",1e3);continue}o.y-o.radius>y.height&&H.splice(l,1)}if(Be.textContent=X,Se>0?(R.style.display="block",R.textContent="BOOST!",R.style.color="red",R.style.borderColor="red",Se--):S>1?(R.style.display="block",R.textContent=`KOMBO x${S}`,R.style.color="yellow",R.style.borderColor="yellow"):R.style.display="none",pe)for(;$.length&&$[0].y>y.height;){$.shift();const l=$[$.length-1],o={x:I+Math.random()*(D-ee),y:l.y-rt,width:ee,height:J,id:_n++};if(!m.settings.continuousPlay){const s=o.id<=200?100:200;o.id%s===0&&(o.x=I,o.width=D,hn=o,oo(o))}$.push(o),o.id%20===0&&H.push({x:o.x+o.width/2,y:o.y-Ae,radius:Ae})}c.y>y.height&&(gt=!0)}function Pt(){h.clearRect(0,0,y.width,y.height);const e=nt%y.height;if(fe){if(h.drawImage(fe,0,e-y.height,y.width,y.height),h.drawImage(fe,0,e,y.width,y.height),le){const t=le.y;h.save(),h.beginPath(),h.rect(0,0,y.width,t),h.clip(),U.complete&&(h.drawImage(U,0,e-y.height,y.width,y.height),h.drawImage(U,0,e,y.width,y.height));const n=h.createLinearGradient(0,t-Ve,0,t);n.addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(0,0,0,1)"),h.globalCompositeOperation="destination-out",h.fillStyle=n,h.fillRect(0,t-Ve,y.width,Ve),h.restore(),h.globalCompositeOperation="source-over"}(!le||le.y>=y.height)&&(fe=null,le=null)}else U.complete?(h.drawImage(U,0,e-y.height,y.width,y.height),h.drawImage(U,0,e,y.width,y.height)):(h.fillStyle="#88f",h.fillRect(0,0,y.width,y.height));for(let t of $)ot.complete?h.drawImage(ot,t.x,t.y,t.width,t.height):(h.fillStyle="#555",h.fillRect(t.x,t.y,t.width,t.height)),h.strokeStyle="#000",h.lineWidth=io,h.strokeRect(t.x,t.y,t.width,t.height);for(let t of H)h.strokeStyle="gold",h.lineWidth=5,h.beginPath(),h.arc(t.x,t.y,t.radius,0,Math.PI*2),h.stroke();for(let t of T)h.globalAlpha=t.life/60,ao(t.x,t.y,5);h.globalAlpha=1,h.strokeStyle="#000",h.lineWidth=4,h.strokeRect(I,0,D,y.height),h.save(),h.translate(c.x+c.width/2,c.y+c.height/2),c.flipping&&h.rotate(c.rotation),De.complete?h.drawImage(De,-c.width/2,-c.height/2,c.width,c.height):(h.fillStyle="#0a0",h.fillRect(-c.width/2,-c.height/2,c.width,c.height)),h.restore()}function ao(e,t,n){h.fillStyle="#ff0",h.beginPath();for(let i=0;i<5;i++){const l=(18+i*72)*Math.PI/180,o=(54+i*72)*Math.PI/180;h.lineTo(e+Math.cos(l)*n,t-Math.sin(l)*n),h.lineTo(e+Math.cos(o)*n*.5,t-Math.sin(o)*n*.5)}h.closePath(),h.fill()}function uo(){const e=document.getElementById("finalScore");e.textContent=`Gratulacje! Twój wynik: ${X}`,mt(),yt.style.display="flex",rn()}Je.addEventListener("click",()=>{const e=document.getElementById("nickname"),t=document.getElementById("scoreTable"),n=e.value.trim()||"Anon",i=P("scores",[]);i.push({name:n,score:X}),i.sort((s,u)=>u.score-s.score),k("scores",i),mt();const l=new Blob([t.textContent],{type:"text/plain"}),o=document.createElement("a");o.href=URL.createObjectURL(l),o.download="scores.txt",o.click(),Je.disabled=!0});Qt.addEventListener("click",()=>{yt.style.display="none",ne.style.display="block",pt.style.display="none",Zt.style.display="none",be.style.display="none",He.style.display="none",document.getElementById("nickname").value="",Je.disabled=!1,A()});function fn(e){if(gt){it||(Pt(),uo(),it=!0);return}ae||co(),Pt(),requestAnimationFrame(fn)}if(Kt()){const e=document.getElementById("ui-root");e.style.display="block";const t=document.getElementById("mainMenu");t&&(t.style.display="none"),Gt(()=>qt(()=>Promise.resolve().then(()=>Mn),void 0),ht([0,1])).then(n=>n.mount()).catch(n=>{console.error(n),t&&(t.style.display="block"),e&&(e.style.display="none",e.innerHTML="");const i=document.getElementById("useNewUi");i&&(i.checked=!1),Ye(!1)})}var Oe,v,pn,Z,Lt,yn,mn,gn,vt,st,ct,we={},vn=[],_o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,We=Array.isArray;function O(e,t){for(var n in t)e[n]=t[n];return e}function wt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ho(e,t,n){var i,l,o,s={};for(o in t)o=="key"?i=t[o]:o=="ref"?l=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Oe.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]===void 0&&(s[o]=e.defaultProps[o]);return Ie(e,s,i,l,null)}function Ie(e,t,n,i,l){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++pn,__i:-1,__u:0};return l==null&&v.vnode!=null&&v.vnode(o),o}function je(e){return e.children}function Pe(e,t){this.props=e,this.context=t}function ue(e,t){if(t==null)return e.__?ue(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ue(e):null}function wn(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return wn(e)}}function Tt(e){(!e.__d&&(e.__d=!0)&&Z.push(e)&&!Ne.__r++||Lt!=v.debounceRendering)&&((Lt=v.debounceRendering)||yn)(Ne)}function Ne(){for(var e,t,n,i,l,o,s,u=1;Z.length;)Z.length>u&&Z.sort(mn),e=Z.shift(),u=Z.length,e.__d&&(n=void 0,l=(i=(t=e).__v).__e,o=[],s=[],t.__P&&((n=O({},i)).__v=i.__v+1,v.vnode&&v.vnode(n),bt(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[l]:null,o,l??ue(i),!!(32&i.__u),s),n.__v=i.__v,n.__.__k[n.__i]=n,En(o,n,s),n.__e!=l&&wn(n)));Ne.__r=0}function bn(e,t,n,i,l,o,s,u,d,a,_){var r,f,p,x,L,B,w,b=i&&i.__k||vn,q=t.length;for(d=fo(n,t,b,d,q),r=0;r<q;r++)(p=n.__k[r])!=null&&(f=p.__i==-1?we:b[p.__i]||we,p.__i=r,B=bt(e,p,f,l,o,s,u,d,a,_),x=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&kt(f.ref,null,p),_.push(p.ref,p.__c||x,p)),L==null&&x!=null&&(L=x),(w=!!(4&p.__u))||f.__k===p.__k?d=kn(p,d,e,w):typeof p.type=="function"&&B!==void 0?d=B:x&&(d=x.nextSibling),p.__u&=-7);return n.__e=L,d}function fo(e,t,n,i,l){var o,s,u,d,a,_=n.length,r=_,f=0;for(e.__k=new Array(l),o=0;o<l;o++)(s=t[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(d=o+f,(s=e.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Ie(null,s,null,null,null):We(s)?Ie(je,{children:s},null,null,null):s.constructor==null&&s.__b>0?Ie(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,u=null,(a=s.__i=po(s,n,d,r))!=-1&&(r--,(u=n[a])&&(u.__u|=2)),u==null||u.__v==null?(a==-1&&(l>_?f--:l<_&&f++),typeof s.type!="function"&&(s.__u|=4)):a!=d&&(a==d-1?f--:a==d+1?f++:(a>d?f--:f++,s.__u|=4))):e.__k[o]=null;if(r)for(o=0;o<_;o++)(u=n[o])!=null&&!(2&u.__u)&&(u.__e==i&&(i=ue(u)),xn(u,u));return i}function kn(e,t,n,i){var l,o;if(typeof e.type=="function"){for(l=e.__k,o=0;l&&o<l.length;o++)l[o]&&(l[o].__=e,t=kn(l[o],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=ue(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function po(e,t,n,i){var l,o,s,u=e.key,d=e.type,a=t[n],_=a!=null&&(2&a.__u)==0;if(a===null&&e.key==null||_&&u==a.key&&d==a.type)return n;if(i>(_?1:0)){for(l=n-1,o=n+1;l>=0||o<t.length;)if((a=t[s=l>=0?l--:o++])!=null&&!(2&a.__u)&&u==a.key&&d==a.type)return s}return-1}function Dt(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||_o.test(t)?n:n+"px"}function xe(e,t,n,i,l){var o,s;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||Dt(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||Dt(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(gn,"$1")),s=t.toLowerCase(),t=s in e||t=="onFocusOut"||t=="onFocusIn"?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.u=i.u:(n.u=vt,e.addEventListener(t,o?ct:st,o)):e.removeEventListener(t,o?ct:st,o);else{if(l=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function At(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=vt++;else if(t.t<n.u)return;return n(v.event?v.event(t):t)}}}function bt(e,t,n,i,l,o,s,u,d,a){var _,r,f,p,x,L,B,w,b,q,G,ke,de,Et,Ee,_e,qe,N=t.type;if(t.constructor!=null)return null;128&n.__u&&(d=!!(32&n.__u),o=[u=t.__e=n.__e]),(_=v.__b)&&_(t);e:if(typeof N=="function")try{if(w=t.props,b="prototype"in N&&N.prototype.render,q=(_=N.contextType)&&i[_.__c],G=_?q?q.props.value:_.__:i,n.__c?B=(r=t.__c=n.__c).__=r.__E:(b?t.__c=r=new N(w,G):(t.__c=r=new Pe(w,G),r.constructor=N,r.render=mo),q&&q.sub(r),r.props=w,r.state||(r.state={}),r.context=G,r.__n=i,f=r.__d=!0,r.__h=[],r._sb=[]),b&&r.__s==null&&(r.__s=r.state),b&&N.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=O({},r.__s)),O(r.__s,N.getDerivedStateFromProps(w,r.__s))),p=r.props,x=r.state,r.__v=t,f)b&&N.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),b&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(b&&N.getDerivedStateFromProps==null&&w!==p&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(w,G),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(w,r.__s,G)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(r.props=w,r.state=r.__s,r.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(oe){oe&&(oe.__=t)}),ke=0;ke<r._sb.length;ke++)r.__h.push(r._sb[ke]);r._sb=[],r.__h.length&&s.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(w,r.__s,G),b&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(p,x,L)})}if(r.context=G,r.props=w,r.__P=e,r.__e=!1,de=v.__r,Et=0,b){for(r.state=r.__s,r.__d=!1,de&&de(t),_=r.render(r.props,r.state,r.context),Ee=0;Ee<r._sb.length;Ee++)r.__h.push(r._sb[Ee]);r._sb=[]}else do r.__d=!1,de&&de(t),_=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++Et<25);r.state=r.__s,r.getChildContext!=null&&(i=O(O({},i),r.getChildContext())),b&&!f&&r.getSnapshotBeforeUpdate!=null&&(L=r.getSnapshotBeforeUpdate(p,x)),_e=_,_!=null&&_.type===je&&_.key==null&&(_e=Cn(_.props.children)),u=bn(e,We(_e)?_e:[_e],t,n,i,l,o,s,u,d,a),r.base=t.__e,t.__u&=-161,r.__h.length&&s.push(r),B&&(r.__E=r.__=null)}catch(oe){if(t.__v=null,d||o!=null)if(oe.then){for(t.__u|=d?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;o[o.indexOf(u)]=null,t.__e=u}else{for(qe=o.length;qe--;)wt(o[qe]);at(t)}else t.__e=n.__e,t.__k=n.__k,oe.then||at(t);v.__e(oe,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):u=t.__e=yo(n.__e,t,n,i,l,o,s,d,a);return(_=v.diffed)&&_(t),128&t.__u?void 0:u}function at(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(at)}function En(e,t,n){for(var i=0;i<n.length;i++)kt(n[i],n[++i],n[++i]);v.__c&&v.__c(t,e),e.some(function(l){try{e=l.__h,l.__h=[],e.some(function(o){o.call(l)})}catch(o){v.__e(o,l.__v)}})}function Cn(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:We(e)?e.map(Cn):O({},e)}function yo(e,t,n,i,l,o,s,u,d){var a,_,r,f,p,x,L,B=n.props,w=t.props,b=t.type;if(b=="svg"?l="http://www.w3.org/2000/svg":b=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),o!=null){for(a=0;a<o.length;a++)if((p=o[a])&&"setAttribute"in p==!!b&&(b?p.localName==b:p.nodeType==3)){e=p,o[a]=null;break}}if(e==null){if(b==null)return document.createTextNode(w);e=document.createElementNS(l,b,w.is&&w),u&&(v.__m&&v.__m(t,o),u=!1),o=null}if(b==null)B===w||u&&e.data==w||(e.data=w);else{if(o=o&&Oe.call(e.childNodes),B=n.props||we,!u&&o!=null)for(B={},a=0;a<e.attributes.length;a++)B[(p=e.attributes[a]).name]=p.value;for(a in B)if(p=B[a],a!="children"){if(a=="dangerouslySetInnerHTML")r=p;else if(!(a in w)){if(a=="value"&&"defaultValue"in w||a=="checked"&&"defaultChecked"in w)continue;xe(e,a,null,p,l)}}for(a in w)p=w[a],a=="children"?f=p:a=="dangerouslySetInnerHTML"?_=p:a=="value"?x=p:a=="checked"?L=p:u&&typeof p!="function"||B[a]===p||xe(e,a,p,B[a],l);if(_)u||r&&(_.__html==r.__html||_.__html==e.innerHTML)||(e.innerHTML=_.__html),t.__k=[];else if(r&&(e.innerHTML=""),bn(t.type=="template"?e.content:e,We(f)?f:[f],t,n,i,b=="foreignObject"?"http://www.w3.org/1999/xhtml":l,o,s,o?o[0]:n.__k&&ue(n,0),u,d),o!=null)for(a=o.length;a--;)wt(o[a]);u||(a="value",b=="progress"&&x==null?e.removeAttribute("value"):x!=null&&(x!==e[a]||b=="progress"&&!x||b=="option"&&x!=B[a])&&xe(e,a,x,B[a],l),a="checked",L!=null&&L!=e[a]&&xe(e,a,L,B[a],l))}return e}function kt(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(l){v.__e(l,n)}}function xn(e,t,n){var i,l;if(v.unmount&&v.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||kt(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){v.__e(o,t)}i.base=i.__P=null}if(i=e.__k)for(l=0;l<i.length;l++)i[l]&&xn(i[l],t,n||typeof e.type!="function");n||wt(e.__e),e.__c=e.__=e.__e=void 0}function mo(e,t,n){return this.constructor(e,n)}function go(e,t,n){var i,l,o,s;t==document&&(t=document.documentElement),v.__&&v.__(e,t),l=(i=!1)?null:t.__k,o=[],s=[],bt(t,e=t.__k=ho(je,null,[e]),l||we,we,t.namespaceURI,l?null:t.firstChild?Oe.call(t.childNodes):null,o,l?l.__e:t.firstChild,i,s),En(o,e,s)}Oe=vn.slice,v={__e:function(e,t,n,i){for(var l,o,s;t=t.__;)if((l=t.__c)&&!l.__)try{if((o=l.constructor)&&o.getDerivedStateFromError!=null&&(l.setState(o.getDerivedStateFromError(e)),s=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,i||{}),s=l.__d),s)return l.__E=l}catch(u){e=u}throw e}},pn=0,Pe.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=O({},this.state),typeof e=="function"&&(e=e(O({},n),this.props)),e&&O(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Tt(this))},Pe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Tt(this))},Pe.prototype.render=je,Z=[],yn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,mn=function(e,t){return e.__v.__b-t.__v.__b},Ne.__r=0,gn=/(PointerCapture)$|Capture$/i,vt=0,st=At(!1),ct=At(!0);var vo=0;function g(e,t,n,i,l,o){t||(t={});var s,u,d=t;if("ref"in d)for(u in d={},t)u=="ref"?s=t[u]:d[u]=t[u];var a={type:e,props:d,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--vo,__i:-1,__u:0,__source:l,__self:o};if(typeof e=="function"&&(s=e.defaultProps))for(u in s)d[u]===void 0&&(d[u]=s[u]);return v.vnode&&v.vnode(a),a}var ut,E,ze,Nt,dt=0,Bn=[],C=v,Ht=C.__b,Ut=C.__r,Ft=C.diffed,Rt=C.__c,Ot=C.unmount,Wt=C.__;function wo(e,t){C.__h&&C.__h(E,e,dt||t),dt=0;var n=E.__H||(E.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function z(e){return dt=1,bo($n,e)}function bo(e,t,n){var i=wo(ut++,2);if(i.t=e,!i.__c&&(i.__=[$n(void 0,t),function(u){var d=i.__N?i.__N[0]:i.__[0],a=i.t(d,u);d!==a&&(i.__N=[a,i.__[1]],i.__c.setState({}))}],i.__c=E,!E.__f)){var l=function(u,d,a){if(!i.__c.__H)return!0;var _=i.__c.__H.__.filter(function(f){return!!f.__c});if(_.every(function(f){return!f.__N}))return!o||o.call(this,u,d,a);var r=i.__c.props!==u;return _.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(r=!0)}}),o&&o.call(this,u,d,a)||r};E.__f=!0;var o=E.shouldComponentUpdate,s=E.componentWillUpdate;E.componentWillUpdate=function(u,d,a){if(this.__e){var _=o;o=void 0,l(u,d,a),o=_}s&&s.call(this,u,d,a)},E.shouldComponentUpdate=l}return i.__N||i.__}function ko(){for(var e;e=Bn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Le),e.__H.__h.forEach(_t),e.__H.__h=[]}catch(t){e.__H.__h=[],C.__e(t,e.__v)}}C.__b=function(e){E=null,Ht&&Ht(e)},C.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Wt&&Wt(e,t)},C.__r=function(e){Ut&&Ut(e),ut=0;var t=(E=e.__c).__H;t&&(ze===E?(t.__h=[],E.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Le),t.__h.forEach(_t),t.__h=[],ut=0)),ze=E},C.diffed=function(e){Ft&&Ft(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Bn.push(t)!==1&&Nt===C.requestAnimationFrame||((Nt=C.requestAnimationFrame)||Eo)(ko)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ze=E=null},C.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Le),n.__h=n.__h.filter(function(i){return!i.__||_t(i)})}catch(i){t.some(function(l){l.__h&&(l.__h=[])}),t=[],C.__e(i,n.__v)}}),Rt&&Rt(e,t)},C.unmount=function(e){Ot&&Ot(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Le(i)}catch(l){t=l}}),n.__H=void 0,t&&C.__e(t,n.__v))};var jt=typeof requestAnimationFrame=="function";function Eo(e){var t,n=function(){clearTimeout(i),jt&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);jt&&(t=requestAnimationFrame(n))}function Le(e){var t=E,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),E=t}function _t(e){var t=E;e.__c=e.__(),E=t}function $n(e,t){return typeof t=="function"?t(e):t}const Co=()=>{const[e,t]=z(zn()),[n,i]=z(Kn()),[l,o]=z(Jn()),s=()=>{const d=Math.max(.5,n-.5);i(d),St(d)},u=()=>{const d=Math.min(3,n+.5);i(d),St(d)};return g("div",{class:"settings-panel",children:[g("label",{children:[g("input",{type:"checkbox",checked:e,onChange:d=>{const a=d.target.checked;t(a),Vn(a)}}),"Wall bounce"]}),g("div",{class:"speed-control",children:[g("button",{onClick:s,children:"-"}),g("span",{children:[n.toFixed(1),"x"]}),g("button",{onClick:u,children:"+"})]}),g("label",{children:[g("input",{type:"checkbox",checked:l,onChange:d=>{const a=d.target.checked;o(a),Yn(a)}}),"Music"]})]})},xo=()=>g("div",{class:"manual-panel",children:g("p",{children:"Use arrow keys to move and space to jump. Reach as high as you can!"})}),Bo=["character.png","character2.png","character3.png","character4.png"],$o=()=>{const[e,t]=z(P("ringCount",0)),[n,i]=z(P("extraSkillSlots",0)),[l,o]=z(P("purchasedCharacters",["character.png"])),[s,u]=z(P("selectedCharacter","character.png")),d=r=>{const f=e-r;t(f),k("ringCount",f)},a=()=>{n>0||e<50||(d(50),i(n+1),k("extraSkillSlots",n+1))},_=r=>{if(l.includes(r))u(r),k("selectedCharacter",r);else if(e>=50){d(50);const f=[...l,r];o(f),k("purchasedCharacters",f),u(r),k("selectedCharacter",r)}};return g("div",{class:"shop-panel",children:[g("div",{class:"ring-display",children:["Rings: ",e]}),g("div",{class:"shop-item",children:[g("button",{disabled:n>0||e<50,onClick:a,children:"Buy extra slot (50 rings)"}),n>0&&g("span",{class:"owned",children:"Purchased"})]}),g("div",{class:"character-row",children:Bo.map(r=>{const f=l.includes(r);return g("div",{class:`character-item${f?" owned":""}${s===r?" selected":""}`,onClick:()=>_(r),children:[g("img",{src:`assets/${r}`,alt:r}),!f&&g("div",{class:"price",children:"50"})]},r)})})]})},Mo=()=>{const[e,t]=z("main");return g("div",{class:"menu-root",children:[e==="main"&&g("div",{class:"central",children:[g("button",{onClick:un,children:"Booster Mode"}),g("button",{onClick:an,children:"Arcade Mode"}),g("button",{onClick:()=>t("shop"),children:"Shop"})]}),e==="settings"&&g(Co,{}),e==="manual"&&g(xo,{}),e==="shop"&&g($o,{}),g("div",{class:"corners",children:[e!=="main"&&g("button",{class:"back",onClick:()=>t("main"),children:"Back to Main"}),g("button",{class:"settings",onClick:()=>t("settings"),children:"Settings"}),g("button",{class:"manual",onClick:()=>t("manual"),children:"Manual"})]})]})};function So(){const e=document.getElementById("ui-root");go(g(Mo,{}),e)}const Mn=Object.freeze(Object.defineProperty({__proto__:null,mount:So},Symbol.toStringTag,{value:"Module"}));export{So as mount};
